let openShopping=document.querySelector(".shopping"),closeShopping=document.querySelector(".closeShopping"),list=document.querySelector(".list"),listCard=document.querySelector(".listCard"),section=document.querySelector("section"),total=document.querySelector(".total"),tax=document.querySelector(".tax"),quantity=document.querySelector(".quantity");openShopping.addEventListener("click",()=>{section.classList.add("active")}),closeShopping.addEventListener("click",()=>{section.classList.remove("active")});let products=[{id:1,name:"منتج 1",image:"1.png",price:1220},{id:2,name:"منتج 2",image:"2.png",price:1200},{id:3,name:"منتج 3",image:"3.png",price:2200},{id:4,name:"منتج 4",image:"4.png",price:123},{id:5,name:"منتج 5",image:"5.png",price:433},{id:6,name:"منتج 6",image:"6.png",price:320},{id:7,name:"منتج 7",image:"7.png",price:120},{id:8,name:"منتج 8",image:"6.png",price:32},{id:9,name:"منتج 9",image:"7.png",price:3210},],listCards=[];function initApp(){products.forEach((i,e)=>{let t=document.createElement("div");t.classList.add("item"),t.innerHTML=`
            <img src="svg/${i.image}">
            <div class="title">${i.name}</div>
            <div class="price">${i.price.toLocaleString()}</div>
            <button onclick="addToCard(${e})">اضافه الي العربه</button>`,list.appendChild(t)})}function addToCard(i){null==listCards[i]&&(listCards[i]=JSON.parse(JSON.stringify(products[i])),listCards[i].quantity=1),reloadCard()}function reloadCard(){listCard.innerHTML="";let i=0,e=0;listCards.forEach((t,n)=>{if(e+=t.price,i+=t.quantity,null!=t){let a=document.createElement("li");a.innerHTML=`
                <div><img src="svg/${t.image}"/></div>
                <div>${t.name}</div>
                <div>${t.price.toLocaleString()}</div>
                <div>
                    <button onclick="changeQuantity(${n}, ${t.quantity-1})">-</button>
                    <div class="count">${t.quantity}</div>
                    <button onclick="changeQuantity(${n}, ${t.quantity+1})">+</button>
                </div>`,listCard.appendChild(a)}}),total.innerText=e.toLocaleString(),tax.innerText=(.15*e).toLocaleString(),total.innerText=(e+parseFloat(tax.innerText)).toLocaleString(),quantity.innerText=i}function changeQuantity(i,e){0==e?delete listCards[i]:(listCards[i].quantity=e,listCards[i].price=e*products[i].price),reloadCard()}initApp();